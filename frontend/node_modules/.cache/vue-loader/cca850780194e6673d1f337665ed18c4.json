{"remainingRequest":"/home/danijel/Documents/Workspace/mc2/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/danijel/Documents/Workspace/mc2/frontend/src/components/profile/settings/paths.vue?vue&type=style&index=0&id=5cda1338&scoped=true&lang=css&","dependencies":[{"path":"/home/danijel/Documents/Workspace/mc2/frontend/src/components/profile/settings/paths.vue","mtime":1560211948609},{"path":"/home/danijel/Documents/Workspace/mc2/frontend/node_modules/css-loader/index.js","mtime":1557082350999},{"path":"/home/danijel/Documents/Workspace/mc2/frontend/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1557082351628},{"path":"/home/danijel/Documents/Workspace/mc2/frontend/node_modules/postcss-loader/src/index.js","mtime":1557082351445},{"path":"/home/danijel/Documents/Workspace/mc2/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1557082350867},{"path":"/home/danijel/Documents/Workspace/mc2/frontend/node_modules/vue-loader/lib/index.js","mtime":1557082351628}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.sPath > div{\n    padding-top: 0.5em;\n}\n\n.heading{\n    font-size: 1.3em;\n    font-weight: bold;\n}\n\n.sPath .k{\n    text-transform: uppercase;\n    font-weight: bold;\n}\n.sPath .p{\n    text-transform: capitalize;\n}\n\n.allPaths > div{\n    padding: 0.5em;\n}\n\n.allPaths > div > div{\n    min-height: 150px;\n    background-color: #2C365D;\n    color: #F2F2F0;\n    padding: 1em;\n    border-radius: 1em;\n    cursor: pointer;\n}\n\n.pathSelected > div{\n    background-color: #fd7d61 !important;\n}\n\n.divider {\n    margin: 1em 0em 1em 0em;\n    width: 100%;\n    height: 2px;\n    background-color: #fd7d61;\n}\n\n.delete{\n    float: right;\n    font-size: 1.2em;\n    cursor: pointer;\n}\n\n.delete:hover{\n    color: #fd7d61;\n}\n",{"version":3,"sources":["paths.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuJA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA","file":"paths.vue","sourceRoot":"src/components/profile/settings","sourcesContent":["<template>\n    <div id=\"paths\">\n        <span v-if=\"$store.state.user.savedPaths[0]\">\n            <div class=\"sPath row\" v-if=\"pathDataLoaded\">\n                <div class=\"heading\">Odabrani put <div class=\"delete\" @click=\"deletePath()\"><font-awesome-icon :icon=\"['fa', 'trash-alt']\" /></div></div>\n                <div><span class=\"k\">Fakultet: </span><span class=\"p\">{{ selectedPath.fakultet.naziv }}</span></div>\n                <div><span class=\"k\">Zanimanje: </span><span class=\"p\">{{ selectedPath.zanimanje.naziv }}</span></div>\n            </div>\n            <div class=\"divider\"></div>\n            <div class=\"allPaths drow\">\n                <div class=\"heading\">Spremljeni putevi</div>\n                <div class=\"dcol xs-12 m-6 l-4\" v-for=\"(path, index) in savedPaths\" :key=\"index\">\n                    <div @click=\"selectPath(index)\">\n                        <div class=\"sPath\">\n                            <div><span class=\"k\">Fakultet: </span><span class=\"p\">{{ path.fakultet.naziv }}</span></div>\n                            <div><span class=\"k\">Zanimanje: </span><span class=\"p\">{{ path.zanimanje.naziv }}</span></div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </span>\n        <span v-else>\n            <div class=\"heading\">Nema≈° spremljenih puteva.</div>\n        </span>\n\t</div>   \n</template>\n\n<script>\nimport axios from \"axios\"\n\nexport default {\n    name: 'paths',\n\tdata() {\n\t\treturn {\n            selectedPath: {},\n            savedPaths: [],\n            selectedIndex: 0\n\t\t}\n    },\n    mounted(){\n        if(this.$store.state.user.savedPaths[0]){\n            let selectedPathId = [this.$store.state.user.selectedPath]\n            this.getPath(selectedPathId)\n\n            let savedPathsId = this.$store.state.user.savedPaths\n            this.getSavedPaths(savedPathsId)\n        }\n    },\n    methods:{\n        getPath(arr){\n            let headers = {\n                'Content-Type': 'application/json'\n            }\n\n            axios.post('/api/getpaths', arr, {headers: headers})\n            .then(res => {\n                if(res.status == 200){\n                    this.selectedPath = res.data[0]\n                }\n            })\n        },\n\n        getSavedPaths(arr){\n            let headers = {\n                'Content-Type': 'application/json'\n            }\n\n            axios.post('/api/getpaths', arr, {headers: headers})\n            .then(res => {\n                if(res.status == 200){\n                    this.savedPaths = res.data\n\n                    let t = this\n                    setTimeout(function(){\n                        t.savedPaths.forEach((p, ind) => {\n                            if(p._id == t.selectedPath._id){\n                                t.selectPath(ind)\n                            }\n                        })\n                    }, 50)\n                }\n            })\n        },\n\n        selectPath(i){\n            if(this.$store.state.user.savedPaths[0]){\n                let elems = document.getElementsByClassName(\"allPaths\")[0].getElementsByClassName(\"dcol\")\n                for(let x = 0; x < elems.length; x++){\n                    elems[x].classList.remove(\"pathSelected\")\n                }\n\n                this.selectedPath = this.savedPaths[i]\n                elems[i].classList.add(\"pathSelected\")\n\n                let obj = {\n                    _id: this.$store.state.user._id,\n                    selectedPath: this.savedPaths[i]._id,\n                    savedPaths: this.$store.state.user.savedPaths\n                }\n\n                let headers = {\n                    'Content-Type': 'application/json'\n                }\n\n                axios.post('/api/updatesavedpaths', obj, {headers: headers})\n                .then(res => {\n                    if(res.status == 200){\n                        this.selectedIndex = i\n                        this.$store.state.user.selectedPath = this.savedPaths[i]._id\n                    }\n                })\n            } else {\n                let obj = {\n                    _id: this.$store.state.user._id,\n                    selectedPath: \"\",\n                    savedPaths: []\n                }\n\n                let headers = {\n                    'Content-Type': 'application/json'\n                }\n\n                axios.post('/api/updatesavedpaths', obj, {headers: headers})\n                .then(res => {\n                    if(res.status == 200){\n                        this.$store.state.user.selectedPath = \"\"\n                        this.$store.state.user.selectedPath = []\n                    }\n                })\n            }\n        },\n\n        deletePath(){\n            this.savedPaths.splice(this.selectedIndex, 1)\n            this.$store.state.user.savedPaths.splice(this.selectedIndex, 1)\n            this.selectPath(0)\n        }\n    },\n    computed:{\n        pathDataLoaded(){\n            if(this.selectedPath._id){\n                return true\n            } else {\n                return false\n            }\n        }\n    }\n}\n</script>\n\n<style scoped>\n.sPath > div{\n    padding-top: 0.5em;\n}\n\n.heading{\n    font-size: 1.3em;\n    font-weight: bold;\n}\n\n.sPath .k{\n    text-transform: uppercase;\n    font-weight: bold;\n}\n.sPath .p{\n    text-transform: capitalize;\n}\n\n.allPaths > div{\n    padding: 0.5em;\n}\n\n.allPaths > div > div{\n    min-height: 150px;\n    background-color: #2C365D;\n    color: #F2F2F0;\n    padding: 1em;\n    border-radius: 1em;\n    cursor: pointer;\n}\n\n.pathSelected > div{\n    background-color: #fd7d61 !important;\n}\n\n.divider {\n    margin: 1em 0em 1em 0em;\n    width: 100%;\n    height: 2px;\n    background-color: #fd7d61;\n}\n\n.delete{\n    float: right;\n    font-size: 1.2em;\n    cursor: pointer;\n}\n\n.delete:hover{\n    color: #fd7d61;\n}\n</style>"]}]}