{"remainingRequest":"/home/danijel/Documents/Workspace/mc2/frontend/node_modules/babel-loader/lib/index.js!/home/danijel/Documents/Workspace/mc2/frontend/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/danijel/Documents/Workspace/mc2/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/danijel/Documents/Workspace/mc2/frontend/src/components/profile/settings/paths.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/danijel/Documents/Workspace/mc2/frontend/src/components/profile/settings/paths.vue","mtime":1560211948609},{"path":"/home/danijel/Documents/Workspace/mc2/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1557082350867},{"path":"/home/danijel/Documents/Workspace/mc2/frontend/node_modules/babel-loader/lib/index.js","mtime":1557082335768},{"path":"/home/danijel/Documents/Workspace/mc2/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1557082350867},{"path":"/home/danijel/Documents/Workspace/mc2/frontend/node_modules/vue-loader/lib/index.js","mtime":1557082351628}],"contextDependencies":[],"result":["import \"core-js/modules/web.dom.iterable\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport axios from \"axios\";\nexport default {\n  name: 'paths',\n  data: function data() {\n    return {\n      selectedPath: {},\n      savedPaths: [],\n      selectedIndex: 0\n    };\n  },\n  mounted: function mounted() {\n    if (this.$store.state.user.savedPaths[0]) {\n      var selectedPathId = [this.$store.state.user.selectedPath];\n      this.getPath(selectedPathId);\n      var savedPathsId = this.$store.state.user.savedPaths;\n      this.getSavedPaths(savedPathsId);\n    }\n  },\n  methods: {\n    getPath: function getPath(arr) {\n      var _this = this;\n\n      var headers = {\n        'Content-Type': 'application/json'\n      };\n      axios.post('/api/getpaths', arr, {\n        headers: headers\n      }).then(function (res) {\n        if (res.status == 200) {\n          _this.selectedPath = res.data[0];\n        }\n      });\n    },\n    getSavedPaths: function getSavedPaths(arr) {\n      var _this2 = this;\n\n      var headers = {\n        'Content-Type': 'application/json'\n      };\n      axios.post('/api/getpaths', arr, {\n        headers: headers\n      }).then(function (res) {\n        if (res.status == 200) {\n          _this2.savedPaths = res.data;\n          var t = _this2;\n          setTimeout(function () {\n            t.savedPaths.forEach(function (p, ind) {\n              if (p._id == t.selectedPath._id) {\n                t.selectPath(ind);\n              }\n            });\n          }, 50);\n        }\n      });\n    },\n    selectPath: function selectPath(i) {\n      var _this3 = this;\n\n      if (this.$store.state.user.savedPaths[0]) {\n        var elems = document.getElementsByClassName(\"allPaths\")[0].getElementsByClassName(\"dcol\");\n\n        for (var x = 0; x < elems.length; x++) {\n          elems[x].classList.remove(\"pathSelected\");\n        }\n\n        this.selectedPath = this.savedPaths[i];\n        elems[i].classList.add(\"pathSelected\");\n        var obj = {\n          _id: this.$store.state.user._id,\n          selectedPath: this.savedPaths[i]._id,\n          savedPaths: this.$store.state.user.savedPaths\n        };\n        var headers = {\n          'Content-Type': 'application/json'\n        };\n        axios.post('/api/updatesavedpaths', obj, {\n          headers: headers\n        }).then(function (res) {\n          if (res.status == 200) {\n            _this3.selectedIndex = i;\n            _this3.$store.state.user.selectedPath = _this3.savedPaths[i]._id;\n          }\n        });\n      } else {\n        var _obj = {\n          _id: this.$store.state.user._id,\n          selectedPath: \"\",\n          savedPaths: []\n        };\n        var _headers = {\n          'Content-Type': 'application/json'\n        };\n        axios.post('/api/updatesavedpaths', _obj, {\n          headers: _headers\n        }).then(function (res) {\n          if (res.status == 200) {\n            _this3.$store.state.user.selectedPath = \"\";\n            _this3.$store.state.user.selectedPath = [];\n          }\n        });\n      }\n    },\n    deletePath: function deletePath() {\n      this.savedPaths.splice(this.selectedIndex, 1);\n      this.$store.state.user.savedPaths.splice(this.selectedIndex, 1);\n      this.selectPath(0);\n    }\n  },\n  computed: {\n    pathDataLoaded: function pathDataLoaded() {\n      if (this.selectedPath._id) {\n        return true;\n      } else {\n        return false;\n      }\n    }\n  }\n};",{"version":3,"sources":["paths.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n    <div id=\"paths\">\n        <span v-if=\"$store.state.user.savedPaths[0]\">\n            <div class=\"sPath row\" v-if=\"pathDataLoaded\">\n                <div class=\"heading\">Odabrani put <div class=\"delete\" @click=\"deletePath()\"><font-awesome-icon :icon=\"['fa', 'trash-alt']\" /></div></div>\n                <div><span class=\"k\">Fakultet: </span><span class=\"p\">{{ selectedPath.fakultet.naziv }}</span></div>\n                <div><span class=\"k\">Zanimanje: </span><span class=\"p\">{{ selectedPath.zanimanje.naziv }}</span></div>\n            </div>\n            <div class=\"divider\"></div>\n            <div class=\"allPaths drow\">\n                <div class=\"heading\">Spremljeni putevi</div>\n                <div class=\"dcol xs-12 m-6 l-4\" v-for=\"(path, index) in savedPaths\" :key=\"index\">\n                    <div @click=\"selectPath(index)\">\n                        <div class=\"sPath\">\n                            <div><span class=\"k\">Fakultet: </span><span class=\"p\">{{ path.fakultet.naziv }}</span></div>\n                            <div><span class=\"k\">Zanimanje: </span><span class=\"p\">{{ path.zanimanje.naziv }}</span></div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </span>\n        <span v-else>\n            <div class=\"heading\">Nema≈° spremljenih puteva.</div>\n        </span>\n\t</div>   \n</template>\n\n<script>\nimport axios from \"axios\"\n\nexport default {\n    name: 'paths',\n\tdata() {\n\t\treturn {\n            selectedPath: {},\n            savedPaths: [],\n            selectedIndex: 0\n\t\t}\n    },\n    mounted(){\n        if(this.$store.state.user.savedPaths[0]){\n            let selectedPathId = [this.$store.state.user.selectedPath]\n            this.getPath(selectedPathId)\n\n            let savedPathsId = this.$store.state.user.savedPaths\n            this.getSavedPaths(savedPathsId)\n        }\n    },\n    methods:{\n        getPath(arr){\n            let headers = {\n                'Content-Type': 'application/json'\n            }\n\n            axios.post('/api/getpaths', arr, {headers: headers})\n            .then(res => {\n                if(res.status == 200){\n                    this.selectedPath = res.data[0]\n                }\n            })\n        },\n\n        getSavedPaths(arr){\n            let headers = {\n                'Content-Type': 'application/json'\n            }\n\n            axios.post('/api/getpaths', arr, {headers: headers})\n            .then(res => {\n                if(res.status == 200){\n                    this.savedPaths = res.data\n\n                    let t = this\n                    setTimeout(function(){\n                        t.savedPaths.forEach((p, ind) => {\n                            if(p._id == t.selectedPath._id){\n                                t.selectPath(ind)\n                            }\n                        })\n                    }, 50)\n                }\n            })\n        },\n\n        selectPath(i){\n            if(this.$store.state.user.savedPaths[0]){\n                let elems = document.getElementsByClassName(\"allPaths\")[0].getElementsByClassName(\"dcol\")\n                for(let x = 0; x < elems.length; x++){\n                    elems[x].classList.remove(\"pathSelected\")\n                }\n\n                this.selectedPath = this.savedPaths[i]\n                elems[i].classList.add(\"pathSelected\")\n\n                let obj = {\n                    _id: this.$store.state.user._id,\n                    selectedPath: this.savedPaths[i]._id,\n                    savedPaths: this.$store.state.user.savedPaths\n                }\n\n                let headers = {\n                    'Content-Type': 'application/json'\n                }\n\n                axios.post('/api/updatesavedpaths', obj, {headers: headers})\n                .then(res => {\n                    if(res.status == 200){\n                        this.selectedIndex = i\n                        this.$store.state.user.selectedPath = this.savedPaths[i]._id\n                    }\n                })\n            } else {\n                let obj = {\n                    _id: this.$store.state.user._id,\n                    selectedPath: \"\",\n                    savedPaths: []\n                }\n\n                let headers = {\n                    'Content-Type': 'application/json'\n                }\n\n                axios.post('/api/updatesavedpaths', obj, {headers: headers})\n                .then(res => {\n                    if(res.status == 200){\n                        this.$store.state.user.selectedPath = \"\"\n                        this.$store.state.user.selectedPath = []\n                    }\n                })\n            }\n        },\n\n        deletePath(){\n            this.savedPaths.splice(this.selectedIndex, 1)\n            this.$store.state.user.savedPaths.splice(this.selectedIndex, 1)\n            this.selectPath(0)\n        }\n    },\n    computed:{\n        pathDataLoaded(){\n            if(this.selectedPath._id){\n                return true\n            } else {\n                return false\n            }\n        }\n    }\n}\n</script>\n\n<style scoped>\n.sPath > div{\n    padding-top: 0.5em;\n}\n\n.heading{\n    font-size: 1.3em;\n    font-weight: bold;\n}\n\n.sPath .k{\n    text-transform: uppercase;\n    font-weight: bold;\n}\n.sPath .p{\n    text-transform: capitalize;\n}\n\n.allPaths > div{\n    padding: 0.5em;\n}\n\n.allPaths > div > div{\n    min-height: 150px;\n    background-color: #2C365D;\n    color: #F2F2F0;\n    padding: 1em;\n    border-radius: 1em;\n    cursor: pointer;\n}\n\n.pathSelected > div{\n    background-color: #fd7d61 !important;\n}\n\n.divider {\n    margin: 1em 0em 1em 0em;\n    width: 100%;\n    height: 2px;\n    background-color: #fd7d61;\n}\n\n.delete{\n    float: right;\n    font-size: 1.2em;\n    cursor: pointer;\n}\n\n.delete:hover{\n    color: #fd7d61;\n}\n</style>"],"sourceRoot":"src/components/profile/settings"}]}